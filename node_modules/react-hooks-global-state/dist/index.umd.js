!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t=t||self).reactHooksGlobalState={},t.react)}(this,function(t,e){function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var r=function(t,e){if(!t.includes(e))throw new Error("'"+e+"' not found. It must be provided in initialState as a property key.")},o="production"!==process.env.NODE_ENV?Symbol("UPDATE_STATE"):Symbol(),u=function(t,u){var c=Object.keys(u),i=u,a=null,f={};c.forEach(function(t){f[t]=new Set});var s=function(e,n){return n.type===o?n.r?n.r(e):n.e:t(e,n)},l=function(t,e){"production"!==process.env.NODE_ENV&&r(c,t);var u=function(r){var o,u;return n({},r,((o={})[t]="function"==typeof(u=e)?u(r[t]):u,o))};if(a){var s;a(((s={type:o}).r=u,s))}else{var l=(i=u(i))[t];f[t].forEach(function(t){return t(l)})}},d=function(t,e){c.forEach(function(n){var r=e[n];t[n]!==r&&f[n].forEach(function(t){return t(r)})})};return{useGlobalStateProvider:function(){var t=e.useReducer(s,i),n=t[0],r=t[1];e.useEffect(function(){var t;if(a)throw new Error("Only one global state provider is allowed");return a=r,r(((t={type:o}).e=i,t)),function(){a=null}},[]);var u=e.useRef(n);d(u.current,n),u.current=n,e.useEffect(function(){i=n},[n])},useGlobalState:function(t){"production"!==process.env.NODE_ENV&&r(c,t);var n=e.useState(i[t]),o=n[0],u=n[1];return e.useEffect(function(){return f[t].add(u),u(i[t]),function(){f[t].delete(u)}},[t]),[o,e.useCallback(function(e){return l(t,e)},[t])]},getGlobalState:function(t){return"production"!==process.env.NODE_ENV&&r(c,t),i[t]},setGlobalState:l,getState:function(){return i},setState:function(t){var e;a?a(((e={type:o}).e=t,e)):d(i,i=t)},dispatch:function(e){if(a)a(e);else{var n=i;i=t(i,e),d(n,i)}return e}}};t.createGlobalState=function(t){return u(function(t,e){return t},t)},t.createStore=function t(e,n,r){return void 0===n&&(n=e(void 0,{type:void 0})),r?r(t)(e,n):u(e,n)},t.reduxDevToolsExt=function(){return window.__REDUX_DEVTOOLS_EXTENSION__?function(){return[].slice.call(arguments).reduce(function(t,e){return function(){return t(e.apply(void 0,[].slice.call(arguments)))}})}(function(r){return function(o,u,c){if(t=o,e=u,c)return c(r)(o,u);var i=r(o,u);return n({},i,{useGlobalState:function(t){return[i.useGlobalState(t)[0],function(){throw new Error("Update is not allowed when using DevTools")}]}})}},window.__REDUX_DEVTOOLS_EXTENSION__(),function(r){return function(o,u,c){if(c)return c(r)(o,u);var i=r(t,e),a=n({},o(u,{type:"@@redux/INIT"}),e),f=[];return n({},i,{getState:function(){return a},dispatch:function(t){return a=o(a,t),i.setState(a.computedStates[a.currentStateIndex].state),f.forEach(function(t){return t()}),t},subscribe:function(t){return f.push(t),function(){var e=f.indexOf(t);f.splice(e,1)}}})}}):function(t){return t};var t,e}});
//# sourceMappingURL=index.umd.js.map
